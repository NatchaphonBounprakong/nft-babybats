(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"/UYa":function(e,t,r){e.exports=r("MS7i")},"/u+i":function(e,t,r){r("QXrW"),r("4CaD");const n=r("y2lW"),o=(e,t)=>e+t,i=["sync","latest"];function s(e){return Number.parseInt(e,16)}e.exports=class extends n{constructor(e={}){super(),this._blockResetDuration=e.blockResetDuration||2e4,this._currentBlock=null,this._isRunning=!1,this._onNewListener=this._onNewListener.bind(this),this._onRemoveListener=this._onRemoveListener.bind(this),this._resetCurrentBlock=this._resetCurrentBlock.bind(this),this._setupInternalEvents()}isRunning(){return this._isRunning}getCurrentBlock(){return this._currentBlock}async getLatestBlock(){return this._currentBlock?this._currentBlock:await new Promise(e=>this.once("latest",e))}removeAllListeners(e){e?super.removeAllListeners(e):super.removeAllListeners(),this._setupInternalEvents(),this._onRemoveListener()}_start(){}_end(){}_setupInternalEvents(){this.removeListener("newListener",this._onNewListener),this.removeListener("removeListener",this._onRemoveListener),this.on("newListener",this._onNewListener),this.on("removeListener",this._onRemoveListener)}_onNewListener(e,t){i.includes(e)&&this._maybeStart()}_onRemoveListener(e,t){this._getBlockTrackerEventCount()>0||this._maybeEnd()}_maybeStart(){this._isRunning||(this._isRunning=!0,this._cancelBlockResetTimeout(),this._start())}_maybeEnd(){this._isRunning&&(this._isRunning=!1,this._setupBlockResetTimeout(),this._end())}_getBlockTrackerEventCount(){return i.map(e=>this.listenerCount(e)).reduce(o)}_newPotentialLatest(e){const t=this._currentBlock;t&&s(e)<=s(t)||this._setCurrentBlock(e)}_setCurrentBlock(e){const t=this._currentBlock;this._currentBlock=e,this.emit("latest",e),this.emit("sync",{oldBlock:t,newBlock:e})}_setupBlockResetTimeout(){this._cancelBlockResetTimeout(),this._blockResetTimeout=setTimeout(this._resetCurrentBlock,this._blockResetDuration),this._blockResetTimeout.unref&&this._blockResetTimeout.unref()}_cancelBlockResetTimeout(){clearTimeout(this._blockResetTimeout)}_resetCurrentBlock(){this._currentBlock=null}}},"0QlC":function(e,t){function r(e){return null==e?e:Number.parseInt(e,16)}function n(e){return null==e?e:"0x"+e.toString(16)}e.exports=async function({provider:e,fromBlock:t,toBlock:o}){t||(t=o);const i=r(t),s=r(o),c=Array(s-i+1).fill().map((e,t)=>i+t).map(n);return await Promise.all(c.map(t=>function(e,t,r){return new Promise((t,n)=>{e.sendAsync({id:1,jsonrpc:"2.0",method:"eth_getBlockByNumber",params:r},(e,r)=>{if(e)return n(e);t(r.result)})})}(e,0,[t,!1])))}},"1Ti9":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeMiddleware=void 0;const n=r("X+co");t.mergeMiddleware=function(e){const t=new n.JsonRpcEngine;return e.forEach(e=>t.push(e)),t.asMiddleware()}},"1gqn":function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},"2J3U":function(e,t){e.exports=function(e){var t=(e=e||{}).max||Number.MAX_SAFE_INTEGER,r=void 0!==e.start?e.start:Math.floor(Math.random()*t);return function(){return r%=t,r++}}},"2nhq":function(e,t,r){const n=r("q6/2").Mutex,{createAsyncMiddleware:o}=r("llSS"),i=r("/UYa"),s=r("FqFB"),c=r("rW7p"),a=r("hyCD"),{intToHex:u,hexToInt:l}=r("UJ2e");function p(e){return h(async(...t)=>{const r=await e(...t);return u(r.id)})}function h(e){return o(async(t,r)=>{const n=await e.apply(null,t.params);r.result=n})}function f(e,t){const r=[];for(let n in e)r.push(e[n]);return r}e.exports=function({blockTracker:e,provider:t}){let r=0,o={};const d=new n,y=function({mutex:e}){return t=>async(r,n,o,i)=>{(await e.acquire())(),t(r,n,o,i)}}({mutex:d}),m=i({eth_newFilter:y(p(w)),eth_newBlockFilter:y(p(_)),eth_newPendingTransactionFilter:y(p(v)),eth_uninstallFilter:y(h(B)),eth_getFilterChanges:y(h(b)),eth_getFilterLogs:y(h(k))}),g=async({oldBlock:e,newBlock:t})=>{if(0===o.length)return;const r=await d.acquire();try{await Promise.all(f(o).map(async r=>{try{await r.update({oldBlock:e,newBlock:t})}catch(n){console.error(n)}}))}catch(n){console.error(n)}r()};return m.newLogFilter=w,m.newBlockFilter=_,m.newPendingTransactionFilter=v,m.uninstallFilter=B,m.getFilterChanges=b,m.getFilterLogs=k,m.destroy=()=>{!async function(){const e=f(o).length;o={},x({prevFilterCount:e,newFilterCount:0})}()},m;async function w(e){const r=new s({provider:t,params:e});return await R(r),r}async function _(){const e=new c({provider:t});return await R(e),e}async function v(){const e=new a({provider:t});return await R(e),e}async function b(e){const t=l(e),r=o[t];if(!r)throw new Error(`No filter for index "${t}"`);return r.getChangesAndClear()}async function k(e){const t=l(e),r=o[t];if(!r)throw new Error(`No filter for index "${t}"`);return results="log"===r.type?r.getAllResults():[],results}async function B(e){const t=l(e),r=Boolean(o[t]);return r&&await async function(e){const t=f(o).length;delete o[e],x({prevFilterCount:t,newFilterCount:f(o).length})}(t),r}async function R(t){const n=f(o).length,i=await e.getLatestBlock();return await t.initialize({currentBlock:i}),r++,o[r]=t,t.id=r,t.idHex=u(r),x({prevFilterCount:n,newFilterCount:f(o).length}),r}function x({prevFilterCount:t,newFilterCount:r}){0===t&&r>0?e.on("sync",g):t>0&&0===r&&e.removeListener("sync",g)}}},"4CaD":function(e,t,r){"use strict";const n=(e,t)=>function(){const r=t.promiseModule,n=new Array(arguments.length);for(let e=0;e<arguments.length;e++)n[e]=arguments[e];return new r((r,o)=>{n.push(t.errorFirst?function(e,n){if(t.multiArgs){const t=new Array(arguments.length-1);for(let e=1;e<arguments.length;e++)t[e-1]=arguments[e];e?(t.unshift(e),o(t)):r(t)}else e?o(e):r(n)}:function(e){if(t.multiArgs){const e=new Array(arguments.length-1);for(let t=0;t<arguments.length;t++)e[t]=arguments[t];r(e)}else r(e)}),e.apply(this,n)})};e.exports=(e,t)=>{t=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},t);const r=e=>{const r=t=>"string"==typeof t?e===t:t.test(e);return t.include?t.include.some(r):!t.exclude.some(r)};let o;o="function"==typeof e?function(){return t.excludeMain?e.apply(this,arguments):n(e,t).apply(this,arguments)}:Object.create(Object.getPrototypeOf(e));for(const i in e){const s=e[i];o[i]="function"==typeof s&&r(i)?n(s,t):s}return o}},"8Pg7":function(e,t,r){const n=r("zvTS");e.exports=class extends n{constructor(){super(),this.allResults=[]}async update(){throw new Error("BaseFilterWithHistory - no update method specified")}addResults(e){this.allResults=this.allResults.concat(e),super.addResults(e)}addInitialResults(e){this.allResults=this.allResults.concat(e),super.addInitialResults(e)}getAllResults(){return this.allResults}}},Fj00:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("+qE3");function o(e,t,r){try{Reflect.apply(e,t,r)}catch(n){setTimeout(()=>{throw n})}}t.default=class extends n.EventEmitter{emit(e,...t){let r="error"===e;const n=this._events;if(void 0!==n)r=r&&void 0===n.error;else if(!r)return!1;if(r){let e;if(t.length>0&&([e]=t),e instanceof Error)throw e;const r=new Error("Unhandled error."+(e?` (${e.message})`:""));throw r.context=e,r}const i=n[e];if(void 0===i)return!1;if("function"==typeof i)o(i,this,t);else{const e=i.length,r=function(e){const t=e.length,r=new Array(t);for(let n=0;n<t;n+=1)r[n]=e[n];return r}(i);for(let n=0;n<e;n+=1)o(r[n],this,t)}return!0}}},FqFB:function(e,t,r){const n=r("QXrW"),o=r("h9tj"),i=r("8Pg7"),{hexToInt:s,incrementHexInt:c,minBlockRef:a,blockRefIsNumber:u}=r("UJ2e");e.exports=class extends i{constructor({provider:e,params:t}){super(),this.type="log",this.ethQuery=new n(e),this.params=Object.assign({fromBlock:"latest",toBlock:"latest",address:void 0,topics:[]},t),this.params.address&&(Array.isArray(this.params.address)||(this.params.address=[this.params.address]),this.params.address=this.params.address.map(e=>e.toLowerCase()))}async initialize({currentBlock:e}){let t=this.params.fromBlock;["latest","pending"].includes(t)&&(t=e),"earliest"===t&&(t="0x0"),this.params.fromBlock=t;const r=a(this.params.toBlock,e),n=Object.assign({},this.params,{toBlock:r}),o=await this._fetchLogs(n);this.addInitialResults(o)}async update({oldBlock:e,newBlock:t}){const r=t;let n;n=e?c(e):t;const o=Object.assign({},this.params,{fromBlock:n,toBlock:r}),i=(await this._fetchLogs(o)).filter(e=>this.matchLog(e));this.addResults(i)}async _fetchLogs(e){return await o(t=>this.ethQuery.getLogs(e,t))()}matchLog(e){if(s(this.params.fromBlock)>=s(e.blockNumber))return!1;if(u(this.params.toBlock)&&s(this.params.toBlock)<=s(e.blockNumber))return!1;const t=e.address&&e.address.toLowerCase();return!(this.params.address&&t&&!this.params.address.includes(t))&&this.params.topics.every((t,r)=>{let n=e.topics[r];if(!n)return!1;n=n.toLowerCase();let o=Array.isArray(t)?t:[t];return!!o.includes(null)||(o=o.map(e=>e.toLowerCase()),o.includes(n))})}}},KKCa:function(e,t){e.exports="function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},LPKZ:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createAsyncMiddleware=void 0,t.createAsyncMiddleware=function(e){return async(t,r,n,o)=>{let i;const s=new Promise(e=>{i=e});let c=null,a=!1;const u=async()=>{a=!0,n(e=>{c=e,i()}),await s};try{await e(t,r,u),a?(await s,c(null)):o(null)}catch(l){c?c(l):o(l)}}}},MCLT:function(e,t,r){var n=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++)r[t[n]]=Object.getOwnPropertyDescriptor(e,t[n]);return r},o=/%[sdj%]/g;t.format=function(e){if(!g(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(c(arguments[r]));return t.join(" ")}r=1;for(var n=arguments,i=n.length,s=String(e).replace(o,function(e){if("%%"===e)return"%";if(r>=i)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(t){return"[Circular]"}default:return e}}),a=n[r];r<i;a=n[++r])y(a)||!v(a)?s+=" "+a:s+=" "+c(a);return s},t.deprecate=function(e,r){if("undefined"!=typeof process&&!0===process.noDeprecation)return e;if("undefined"==typeof process)return function(){return t.deprecate(e,r).apply(this,arguments)};var n=!1;return function(){if(!n){if(process.throwDeprecation)throw new Error(r);process.traceDeprecation?console.trace(r):console.error(r),n=!0}return e.apply(this,arguments)}};var i,s={};function c(e,r){var n={seen:[],stylize:u};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),d(r)?n.showHidden=r:r&&t._extend(n,r),w(n.showHidden)&&(n.showHidden=!1),w(n.depth)&&(n.depth=2),w(n.colors)&&(n.colors=!1),w(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=a),l(n,e,n.depth)}function a(e,t){var r=c.styles[t];return r?"\x1b["+c.colors[r][0]+"m"+e+"\x1b["+c.colors[r][1]+"m":e}function u(e,t){return e}function l(e,r,n){if(e.customInspect&&r&&B(r.inspect)&&r.inspect!==t.inspect&&(!r.constructor||r.constructor.prototype!==r)){var o=r.inspect(n,e);return g(o)||(o=l(e,o,n)),o}var i=function(e,t){if(w(t))return e.stylize("undefined","undefined");if(g(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}return m(t)?e.stylize(""+t,"number"):d(t)?e.stylize(""+t,"boolean"):y(t)?e.stylize("null","null"):void 0}(e,r);if(i)return i;var s=Object.keys(r),c=function(e){var t={};return e.forEach(function(e,r){t[e]=!0}),t}(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(r)),k(r)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return p(r);if(0===s.length){if(B(r))return e.stylize("[Function"+(r.name?": "+r.name:"")+"]","special");if(_(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(b(r))return e.stylize(Date.prototype.toString.call(r),"date");if(k(r))return p(r)}var a,u="",v=!1,R=["{","}"];return f(r)&&(v=!0,R=["[","]"]),B(r)&&(u=" [Function"+(r.name?": "+r.name:"")+"]"),_(r)&&(u=" "+RegExp.prototype.toString.call(r)),b(r)&&(u=" "+Date.prototype.toUTCString.call(r)),k(r)&&(u=" "+p(r)),0!==s.length||v&&0!=r.length?n<0?_(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special"):(e.seen.push(r),a=v?function(e,t,r,n,o){for(var i=[],s=0,c=t.length;s<c;++s)C(t,String(s))?i.push(h(e,t,r,n,String(s),!0)):i.push("");return o.forEach(function(o){o.match(/^\d+$/)||i.push(h(e,t,r,n,o,!0))}),i}(e,r,n,c,s):s.map(function(t){return h(e,r,n,c,t,v)}),e.seen.pop(),function(e,t,r){return e.reduce(function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}(a,u,R)):R[0]+u+R[1]}function p(e){return"["+Error.prototype.toString.call(e)+"]"}function h(e,t,r,n,o,i){var s,c,a;if((a=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]}).get?c=e.stylize(a.set?"[Getter/Setter]":"[Getter]","special"):a.set&&(c=e.stylize("[Setter]","special")),C(n,o)||(s="["+o+"]"),c||(e.seen.indexOf(a.value)<0?(c=y(r)?l(e,a.value,null):l(e,a.value,r-1)).indexOf("\n")>-1&&(c=i?c.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+c.split("\n").map(function(e){return"   "+e}).join("\n")):c=e.stylize("[Circular]","special")),w(s)){if(i&&o.match(/^\d+$/))return c;(s=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+c}function f(e){return Array.isArray(e)}function d(e){return"boolean"==typeof e}function y(e){return null===e}function m(e){return"number"==typeof e}function g(e){return"string"==typeof e}function w(e){return void 0===e}function _(e){return v(e)&&"[object RegExp]"===R(e)}function v(e){return"object"==typeof e&&null!==e}function b(e){return v(e)&&"[object Date]"===R(e)}function k(e){return v(e)&&("[object Error]"===R(e)||e instanceof Error)}function B(e){return"function"==typeof e}function R(e){return Object.prototype.toString.call(e)}function x(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(w(i)&&(i=process.env.NODE_DEBUG||""),e=e.toUpperCase(),!s[e])if(new RegExp("\\b"+e+"\\b","i").test(i)){var r=process.pid;s[e]=function(){var n=t.format.apply(t,arguments);console.error("%s %d: %s",e,r,n)}}else s[e]=function(){};return s[e]},t.inspect=c,c.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},c.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=f,t.isBoolean=d,t.isNull=y,t.isNullOrUndefined=function(e){return null==e},t.isNumber=m,t.isString=g,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=w,t.isRegExp=_,t.isObject=v,t.isDate=b,t.isError=k,t.isFunction=B,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=r("1gqn");var E=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function j(){var e=new Date,t=[x(e.getHours()),x(e.getMinutes()),x(e.getSeconds())].join(":");return[e.getDate(),E[e.getMonth()],t].join(" ")}function C(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",j(),t.format.apply(t,arguments))},t.inherits=r("KKCa"),t._extend=function(e,t){if(!t||!v(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e};var T="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function L(e,t){if(!e){var r=new Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(T&&e[T]){var t;if("function"!=typeof(t=e[T]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,T,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,r,n=new Promise(function(e,n){t=e,r=n}),o=[],i=0;i<arguments.length;i++)o.push(arguments[i]);o.push(function(e,n){e?r(e):t(n)});try{e.apply(this,o)}catch(s){r(s)}return n}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),T&&Object.defineProperty(t,T,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,n(e))},t.promisify.custom=T,t.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function t(){for(var t=[],r=0;r<arguments.length;r++)t.push(arguments[r]);var n=t.pop();if("function"!=typeof n)throw new TypeError("The last argument must be of type Function");var o=this,i=function(){return n.apply(o,arguments)};e.apply(this,t).then(function(e){process.nextTick(i,null,e)},function(e){process.nextTick(L,e,i)})}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),Object.defineProperties(t,n(e)),t}},MS7i:function(e,t){e.exports=function(e){return(t,r,n,o)=>{const i=e[t.method];return void 0===i?n():"function"==typeof i?i(t,r,n,o):(r.result=i,o())}}},QXrW:function(e,t,r){const n=r("U6jy"),o=r("2J3U")();function i(e){this.currentProvider=e}function s(e){return function(){const t=this;var r=[].slice.call(arguments),n=r.pop();t.sendAsync({method:e,params:r},n)}}function c(e,t){return function(){const r=this;var n=[].slice.call(arguments),o=n.pop();n.length<e&&n.push("latest"),r.sendAsync({method:t,params:n},o)}}e.exports=i,i.prototype.getBalance=c(2,"eth_getBalance"),i.prototype.getCode=c(2,"eth_getCode"),i.prototype.getTransactionCount=c(2,"eth_getTransactionCount"),i.prototype.getStorageAt=c(3,"eth_getStorageAt"),i.prototype.call=c(2,"eth_call"),i.prototype.protocolVersion=s("eth_protocolVersion"),i.prototype.syncing=s("eth_syncing"),i.prototype.coinbase=s("eth_coinbase"),i.prototype.mining=s("eth_mining"),i.prototype.hashrate=s("eth_hashrate"),i.prototype.gasPrice=s("eth_gasPrice"),i.prototype.accounts=s("eth_accounts"),i.prototype.blockNumber=s("eth_blockNumber"),i.prototype.getBlockTransactionCountByHash=s("eth_getBlockTransactionCountByHash"),i.prototype.getBlockTransactionCountByNumber=s("eth_getBlockTransactionCountByNumber"),i.prototype.getUncleCountByBlockHash=s("eth_getUncleCountByBlockHash"),i.prototype.getUncleCountByBlockNumber=s("eth_getUncleCountByBlockNumber"),i.prototype.sign=s("eth_sign"),i.prototype.sendTransaction=s("eth_sendTransaction"),i.prototype.sendRawTransaction=s("eth_sendRawTransaction"),i.prototype.estimateGas=s("eth_estimateGas"),i.prototype.getBlockByHash=s("eth_getBlockByHash"),i.prototype.getBlockByNumber=s("eth_getBlockByNumber"),i.prototype.getTransactionByHash=s("eth_getTransactionByHash"),i.prototype.getTransactionByBlockHashAndIndex=s("eth_getTransactionByBlockHashAndIndex"),i.prototype.getTransactionByBlockNumberAndIndex=s("eth_getTransactionByBlockNumberAndIndex"),i.prototype.getTransactionReceipt=s("eth_getTransactionReceipt"),i.prototype.getUncleByBlockHashAndIndex=s("eth_getUncleByBlockHashAndIndex"),i.prototype.getUncleByBlockNumberAndIndex=s("eth_getUncleByBlockNumberAndIndex"),i.prototype.getCompilers=s("eth_getCompilers"),i.prototype.compileLLL=s("eth_compileLLL"),i.prototype.compileSolidity=s("eth_compileSolidity"),i.prototype.compileSerpent=s("eth_compileSerpent"),i.prototype.newFilter=s("eth_newFilter"),i.prototype.newBlockFilter=s("eth_newBlockFilter"),i.prototype.newPendingTransactionFilter=s("eth_newPendingTransactionFilter"),i.prototype.uninstallFilter=s("eth_uninstallFilter"),i.prototype.getFilterChanges=s("eth_getFilterChanges"),i.prototype.getFilterLogs=s("eth_getFilterLogs"),i.prototype.getLogs=s("eth_getLogs"),i.prototype.getWork=s("eth_getWork"),i.prototype.submitWork=s("eth_submitWork"),i.prototype.submitHashrate=s("eth_submitHashrate"),i.prototype.sendAsync=function(e,t){var r;this.currentProvider.sendAsync((r=e,n({id:o(),jsonrpc:"2.0",params:[]},r)),function(e,r){if(!e&&r.error&&(e=new Error("EthQuery - RPC Error - "+r.error.message)),e)return t(e);t(null,r.result)})}},RhWC:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getUniqueId=void 0;const n=4294967295;let o=Math.floor(Math.random()*n);t.getUniqueId=function(){return o=(o+1)%n,o}},UJ2e:function(e,t){function r(e){return e.sort((e,t)=>"latest"===e||"earliest"===t?1:"latest"===t||"earliest"===e?-1:n(e)-n(t))}function n(e){return null==e?e:Number.parseInt(e,16)}function o(e){if(null==e)return e;let t=e.toString(16);return t.length%2&&(t="0"+t),"0x"+t}function i(){return Math.floor(16*Math.random()).toString(16)}e.exports={minBlockRef:function(...e){return r(e)[0]},maxBlockRef:function(...e){const t=r(e);return t[t.length-1]},sortBlockRefs:r,bnToHex:function(e){return"0x"+e.toString(16)},blockRefIsNumber:function(e){return e&&!["earliest","latest","pending"].includes(e)},hexToInt:n,incrementHexInt:function(e){return null==e?e:o(n(e)+1)},intToHex:o,unsafeRandomBytes:function(e){let t="0x";for(let r=0;r<e;r++)t+=i(),t+=i();return t}}},V5x4:function(e,t,r){const n=r("4CaD"),o=r("/u+i");function i(e,t){return new Promise(r=>{const n=setTimeout(r,e);n.unref&&t&&n.unref()})}e.exports=class extends o{constructor(e={}){if(!e.provider)throw new Error("PollingBlockTracker - no provider specified.");const t=e.pollingInterval||2e4,r=e.retryTimeout||t/10,n=void 0===e.keepEventLoopActive||e.keepEventLoopActive,o=e.setSkipCacheFlag||!1;super(Object.assign({blockResetDuration:t},e)),this._provider=e.provider,this._pollingInterval=t,this._retryTimeout=r,this._keepEventLoopActive=n,this._setSkipCacheFlag=o}async checkForLatestBlock(){return await this._updateLatestBlock(),await this.getLatestBlock()}_start(){this._performSync().catch(e=>this.emit("error",e))}async _performSync(){for(;this._isRunning;)try{await this._updateLatestBlock(),await i(this._pollingInterval,!this._keepEventLoopActive)}catch(e){const r=new Error("PollingBlockTracker - encountered an error while attempting to update latest block:\n"+e.stack);try{this.emit("error",r)}catch(t){console.error(r)}await i(this._retryTimeout,!this._keepEventLoopActive)}}async _updateLatestBlock(){const e=await this._fetchLatestBlock();this._newPotentialLatest(e)}async _fetchLatestBlock(){const e={jsonrpc:"2.0",id:1,method:"eth_blockNumber",params:[]};this._setSkipCacheFlag&&(e.skipCache=!0);const t=await n(t=>this._provider.sendAsync(e,t))();if(t.error)throw new Error("PollingBlockTracker - encountered error fetching block:\n"+t.error);return t.result}}},"X+co":function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.JsonRpcEngine=void 0;const o=n(r("Fj00")),i=r("jNV+");class s extends o.default{constructor(){super(),this._middleware=[]}push(e){this._middleware.push(e)}handle(e,t){if(t&&"function"!=typeof t)throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?t?this._handleBatch(e,t):this._handleBatch(e):t?this._handle(e,t):this._promiseHandle(e)}asMiddleware(){return async(e,t,r,n)=>{try{const[o,i,c]=await s._runAllMiddleware(e,t,this._middleware);return i?(await s._runReturnHandlers(c),n(o)):r(async e=>{try{await s._runReturnHandlers(c)}catch(t){return e(t)}return e()})}catch(o){return n(o)}}}async _handleBatch(e,t){try{const r=await Promise.all(e.map(this._promiseHandle.bind(this)));return t?t(null,r):r}catch(r){if(t)return t(r);throw r}}_promiseHandle(e){return new Promise(t=>{this._handle(e,(e,r)=>{t(r)})})}async _handle(e,t){if(!e||Array.isArray(e)||"object"!=typeof e){const r=new i.EthereumRpcError(i.errorCodes.rpc.invalidRequest,"Requests must be plain objects. Received: "+typeof e,{request:e});return t(r,{id:void 0,jsonrpc:"2.0",error:r})}if("string"!=typeof e.method){const r=new i.EthereumRpcError(i.errorCodes.rpc.invalidRequest,"Must specify a string method. Received: "+typeof e.method,{request:e});return t(r,{id:e.id,jsonrpc:"2.0",error:r})}const r=Object.assign({},e),n={id:r.id,jsonrpc:r.jsonrpc};let o=null;try{await this._processRequest(r,n)}catch(s){o=s}return o&&(delete n.result,n.error||(n.error=i.serializeError(o))),t(o,n)}async _processRequest(e,t){const[r,n,o]=await s._runAllMiddleware(e,t,this._middleware);if(s._checkForCompletion(e,t,n),await s._runReturnHandlers(o),r)throw r}static async _runAllMiddleware(e,t,r){const n=[];let o=null,i=!1;for(const c of r)if([o,i]=await s._runMiddleware(e,t,c,n),i)break;return[o,i,n.reverse()]}static _runMiddleware(e,t,r,n){return new Promise(o=>{const s=e=>{const r=e||t.error;r&&(t.error=i.serializeError(r)),o([r,!0])},a=r=>{t.error?s(t.error):(r&&("function"!=typeof r&&s(new i.EthereumRpcError(i.errorCodes.rpc.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof r}" for request:\n${c(e)}`,{request:e})),n.push(r)),o([null,!1]))};try{r(e,t,a,s)}catch(u){s(u)}})}static async _runReturnHandlers(e){for(const t of e)await new Promise((e,r)=>{t(t=>t?r(t):e())})}static _checkForCompletion(e,t,r){if(!("result"in t)&&!("error"in t))throw new i.EthereumRpcError(i.errorCodes.rpc.internal,"JsonRpcEngine: Response has no error or result for request:\n"+c(e),{request:e});if(!r)throw new i.EthereumRpcError(i.errorCodes.rpc.internal,"JsonRpcEngine: Nothing ended request:\n"+c(e),{request:e})}}function c(e){return JSON.stringify(e,null,2)}t.JsonRpcEngine=s},XW5J:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createIdRemapMiddleware=void 0;const n=r("RhWC");t.createIdRemapMiddleware=function(){return(e,t,r,o)=>{const i=e.id,s=n.getUniqueId();e.id=s,t.id=s,r(r=>{e.id=i,t.id=i,r()})}}},h9tj:function(e,t,r){"use strict";const n=(e,t,r,n)=>function(...o){return new(0,t.promiseModule)((i,s)=>{o.push(t.multiArgs?(...e)=>{t.errorFirst?e[0]?s(e):(e.shift(),i(e)):i(e)}:t.errorFirst?(e,t)=>{e?s(e):i(t)}:i),Reflect.apply(e,this===r?n:this,o)})},o=new WeakMap;e.exports=(e,t)=>{t={exclude:[/.+(?:Sync|Stream)$/],errorFirst:!0,promiseModule:Promise,...t};const r=typeof e;if(null===e||"object"!==r&&"function"!==r)throw new TypeError(`Expected \`input\` to be a \`Function\` or \`Object\`, got \`${null===e?"null":r}\``);const i=new WeakMap,s=new Proxy(e,{apply(e,r,o){const c=i.get(e);if(c)return Reflect.apply(c,r,o);const a=t.excludeMain?e:n(e,t,s,e);return i.set(e,a),Reflect.apply(a,r,o)},get(e,r){const c=e[r];if(!((e,r)=>{let n=o.get(e);if(n||(n={},o.set(e,n)),r in n)return n[r];const i=e=>"string"==typeof e||"symbol"==typeof r?r===e:e.test(r),s=Reflect.getOwnPropertyDescriptor(e,r),c=void 0===s||s.writable||s.configurable,a=(t.include?t.include.some(i):!t.exclude.some(i))&&c;return n[r]=a,a})(e,r)||c===Function.prototype[r])return c;const a=i.get(c);if(a)return a;if("function"==typeof c){const r=n(c,t,s,e);return i.set(c,r),r}return c}});return s}},hyCD:function(e,t,r){const n=r("zvTS"),o=r("0QlC"),{incrementHexInt:i}=r("UJ2e");e.exports=class extends n{constructor({provider:e}){super(),this.type="tx",this.provider=e}async update({oldBlock:e}){const t=e,r=i(e),n=await o({provider:this.provider,fromBlock:r,toBlock:t}),s=[];for(const o of n)s.push(...o.transactions);this.addResults(s)}}},llSS:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r("XW5J"),t),o(r("LPKZ"),t),o(r("vhlx"),t),o(r("RhWC"),t),o(r("X+co"),t),o(r("1Ti9"),t)},"q6/2":function(e,t,r){"use strict";r.r(t),r.d(t,"Mutex",function(){return i}),r.d(t,"Semaphore",function(){return o}),r.d(t,"withTimeout",function(){return s});var n=r("mrSG"),o=function(){function e(e){if(this._maxConcurrency=e,this._queue=[],e<=0)throw new Error("semaphore must be initialized to a positive value");this._value=e}return e.prototype.acquire=function(){var e=this,t=this.isLocked(),r=new Promise(function(t){return e._queue.push(t)});return t||this._dispatch(),r},e.prototype.runExclusive=function(e){return Object(n.a)(this,void 0,void 0,function(){var t,r,o;return Object(n.b)(this,function(n){switch(n.label){case 0:return[4,this.acquire()];case 1:t=n.sent(),r=t[0],o=t[1],n.label=2;case 2:return n.trys.push([2,,4,5]),[4,e(r)];case 3:return[2,n.sent()];case 4:return o(),[7];case 5:return[2]}})})},e.prototype.isLocked=function(){return this._value<=0},e.prototype.release=function(){if(this._maxConcurrency>1)throw new Error("this method is unavailabel on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){var e=this._currentReleaser;this._currentReleaser=void 0,e()}},e.prototype._dispatch=function(){var e=this,t=this._queue.shift();if(t){var r=!1;this._currentReleaser=function(){r||(r=!0,e._value++,e._dispatch())},t([this._value--,this._currentReleaser])}},e}(),i=function(){function e(){this._semaphore=new o(1)}return e.prototype.acquire=function(){return Object(n.a)(this,void 0,void 0,function(){return Object(n.b)(this,function(e){switch(e.label){case 0:return[4,this._semaphore.acquire()];case 1:return[2,e.sent()[1]]}})})},e.prototype.runExclusive=function(e){return this._semaphore.runExclusive(function(){return e()})},e.prototype.isLocked=function(){return this._semaphore.isLocked()},e.prototype.release=function(){this._semaphore.release()},e}();function s(e,t,r){var o=this;return void 0===r&&(r=new Error("timeout")),{acquire:function(){return new Promise(function(i,s){return Object(n.a)(o,void 0,void 0,function(){var o,c;return Object(n.b)(this,function(n){switch(n.label){case 0:return o=!1,setTimeout(function(){o=!0,s(r)},t),[4,e.acquire()];case 1:return c=n.sent(),o?(Array.isArray(c)?c[1]:c)():i(c),[2]}})})})},runExclusive:function(e){return Object(n.a)(this,void 0,void 0,function(){var t,r;return Object(n.b)(this,function(n){switch(n.label){case 0:t=function(){},n.label=1;case 1:return n.trys.push([1,,7,8]),[4,this.acquire()];case 2:return r=n.sent(),Array.isArray(r)?(t=r[1],[4,e(r[0])]):[3,4];case 3:return[2,n.sent()];case 4:return t=r,[4,e()];case 5:return[2,n.sent()];case 6:return[3,8];case 7:return t(),[7];case 8:return[2]}})})},release:function(){e.release()},isLocked:function(){return e.isLocked()}}}},rW7p:function(e,t,r){const n=r("zvTS"),o=r("0QlC"),{incrementHexInt:i}=r("UJ2e");e.exports=class extends n{constructor({provider:e}){super(),this.type="block",this.provider=e}async update({oldBlock:e,newBlock:t}){const r=t,n=i(e),s=(await o({provider:this.provider,fromBlock:n,toBlock:r})).map(e=>e.hash);this.addResults(s)}}},t7TP:function(e,t,r){const n=r("Fj00").default,o=r("/UYa"),{createAsyncMiddleware:i}=r("llSS"),s=r("2nhq"),{unsafeRandomBytes:c,incrementHexInt:a}=r("UJ2e"),u=r("0QlC");function l(e){return{hash:e.hash,parentHash:e.parentHash,sha3Uncles:e.sha3Uncles,miner:e.miner,stateRoot:e.stateRoot,transactionsRoot:e.transactionsRoot,receiptsRoot:e.receiptsRoot,logsBloom:e.logsBloom,difficulty:e.difficulty,number:e.number,gasLimit:e.gasLimit,gasUsed:e.gasUsed,nonce:e.nonce,mixHash:e.mixHash,timestamp:e.timestamp,extraData:e.extraData}}e.exports=function({blockTracker:e,provider:t}){const r={},p=s({blockTracker:e,provider:t});let h=!1;const f=new n,d=o({eth_subscribe:i(async function(n,o){if(h)throw new Error("SubscriptionManager - attempting to use after destroying");const i=n.params[0],s=c(16);let f;switch(i){case"newHeads":f=function({subId:r}){const n={type:i,destroy:async()=>{e.removeListener("sync",n.update)},update:async({oldBlock:e,newBlock:n})=>{const o=n,i=a(e);(await u({provider:t,fromBlock:i,toBlock:o})).map(l).forEach(e=>{y(r,e)})}};return e.on("sync",n.update),n}({subId:s});break;case"logs":const r=n.params[1];f=function({subId:e,filter:t}){return t.on("update",t=>y(e,t)),{type:i,destroy:async()=>await p.uninstallFilter(t.idHex)}}({subId:s,filter:await p.newLogFilter(r)});break;default:throw new Error(`SubscriptionManager - unsupported subscription type "${i}"`)}return r[s]=f,void(o.result=s)}),eth_unsubscribe:i(async function(e,t){if(h)throw new Error("SubscriptionManager - attempting to use after destroying");const n=e.params[0],o=r[n];o?(delete r[n],await o.destroy(),t.result=!0):t.result=!1})});return d.destroy=function(){f.removeAllListeners();for(const e in r)r[e].destroy(),delete r[e];h=!0},{events:f,middleware:d};function y(e,t){f.emit("notification",{jsonrpc:"2.0",method:"eth_subscription",params:{subscription:e,result:t}})}}},vhlx:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createScaffoldMiddleware=void 0,t.createScaffoldMiddleware=function(e){return(t,r,n,o)=>{const i=e[t.method];return void 0===i?n():"function"==typeof i?i(t,r,n,o):(r.result=i,o())}}},y2lW:function(e,t,r){const n=r("MCLT"),o=r("+qE3");var i="object"==typeof Reflect?Reflect:null,s=i&&"function"==typeof i.apply?i.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};function c(){o.call(this)}function a(e,t,r){try{s(e,t,r)}catch(n){setTimeout(()=>{throw n})}}function u(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}e.exports=c,n.inherits(c,o),c.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,o=this._events;if(void 0!==o)n=n&&void 0===o.error;else if(!n)return!1;if(n){var i;if(t.length>0&&(i=t[0]),i instanceof Error)throw i;var s=new Error("Unhandled error."+(i?" ("+i.message+")":""));throw s.context=i,s}var c=o[e];if(void 0===c)return!1;if("function"==typeof c)a(c,this,t);else{var l=c.length,p=u(c,l);for(r=0;r<l;++r)a(p[r],this,t)}return!0}},zvTS:function(e,t,r){const n=r("Fj00").default;e.exports=class extends n{constructor(){super(),this.updates=[]}async initialize(){}async update(){throw new Error("BaseFilter - no update method specified")}addResults(e){this.updates=this.updates.concat(e),e.forEach(e=>this.emit("update",e))}addInitialResults(e){}getChangesAndClear(){const e=this.updates;return this.updates=[],e}}}}]);